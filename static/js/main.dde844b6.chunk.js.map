{"version":3,"sources":["service/token.jsx","service/authentication.jsx","App.js","service/logout.jsx","service/task.jsx","components/AllTask.js","components/TaskByUserId.js","components/Home.js","components/Form.js","components/Account.js","reportWebVitals.js","index.js","service/api.jsx"],"names":["setToken","token","console","log","substr","localStorage","setItem","getToken","getItem","removeToken","removeItem","baseURL","login","username","password","api","post","then","response","data","register","isUserLoggedIn","isAuthenticated","get","App","useState","isLoggedIn","setIsLoggedIn","isAuth","setIsAuth","useEffect","process","className","onClick","loggingOut","composeURL","getTaskById","id","AllTask","tasks","taskById","setTaskById","modalRef","useRef","length","map","e","i","data-bs-toggle","data-bs-target","name","start","end","ref","tabIndex","aria-labelledby","aria-hidden","type","data-bs-dismiss","aria-label","myTasks","setMyTasks","Home","setTasks","reReReFormatTime","date","toISOString","slice","addOneHour","toAdd","Date","setHours","getHours","frDate","onHourLater","taskName","dateStart","dateEnd","state","setState","handleChange","target","value","prevState","res","removeT","replace","a","axios","fetchTask","htmlFor","aria-describedby","placeholder","onChange","min","max","preventDefault","t","ds","de","err","status","to","exact","path","TaskByUserId","Form","spec","handleSubmit","header","userId","passId","autoComplete","btnValue","Account","signinUsername","signinPassword","signinState","setSigninState","loginUsername","loginPassword","loginState","setLoginState","signSpec","Object","keys","logSpec","alert","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","defaultOptions","method","headers","create","interceptors","request","use","config","Authorization","Error"],"mappings":"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","file":"static/js/main.dde844b6.chunk.js","sourcesContent":["function setToken(token) {\n  if (token) {\n    console.log(`service/token setToken ${token.substr(0, 10)}...`);\n    localStorage.setItem(\"token\", token);\n  }\n}\n\nfunction getToken() {\n  return localStorage.getItem(\"token\");\n}\n\nfunction removeToken() {\n  localStorage.removeItem(\"token\");\n}\n\nexport { setToken, getToken, removeToken };\n","import api from \"./api\";\nimport { getToken, removeToken, setToken } from \"./token\";\n\nconst baseURL = \"/api/authenticationService/\";\n\nfunction login(username, password) {\n  // console.log(`service/authentication login ${username}`);\n  // console.log(`service/authentication login ${password}`);\n  return api\n    .post(`${baseURL}authenticate`, {\n      username: username,\n      password: password,\n    })\n    .then((response) => {\n      const token = response.data.token;\n      setToken(token);\n      return token;\n    });\n}\n\nfunction logout() {\n  removeToken();\n}\n\nfunction register(username, password) {\n  return api\n    .post(`${baseURL}register`, {\n      username: username,\n      password: password,\n    })\n    .then((response) => {\n      const token = response.data.token;\n      setToken(token);\n      return token;\n    });\n}\n\nfunction isUserLoggedIn() {\n  return !!getToken();\n}\n\nfunction isAuthenticated() {\n  return api.get(`${baseURL}isAuthenticated`).then((response) => response);\n}\n\nexport { login, logout, register, isUserLoggedIn, isAuthenticated };\n","import { useEffect, useState } from \"react\";\n// import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport Account from \"./components/Account\";\nimport Home from \"./components/Home\";\n\nimport { removeToken } from \"./service/token\";\nimport { isAuthenticated } from \"./service/authentication\";\nimport { loggingOut } from \"./service/logout\";\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAuth, setIsAuth] = useState(false);\n\n  const handleLogout = () => {\n    removeToken();\n    setIsLoggedIn(false);\n    loggingOut();\n    isAuthenticated().then((response) => setIsAuth(response.data));\n  };\n\n  useEffect(() => {\n    isAuthenticated().then((response) => setIsAuth(response.data));\n  });\n\n  console.log(process);\n  console.log(process.env);\n\n  if (!isAuth) {\n    return <Account setIsLoggedIn={setIsLoggedIn} setIsAuth={setIsAuth} />;\n  }\n\n  return (\n    <div className=\"container-fluid pt-2\">\n      <button className=\"btn btn-primary mr-2\" onClick={handleLogout}>\n        Log Out\n      </button>\n      <Home isLoggedIn={isLoggedIn} />\n    </div>\n  );\n}\n\nexport default App;\n","import api from \"./api\";\n\nexport function loggingOut() {\n  api.post(\"/logout\");\n}\n","import api from \"./api\";\n\nconst taskURL = \"/api/taskService/\";\nconst composeURL = \"/api/compose/\";\n\nfunction sendTask(t, ds, de) {\n  return api\n    .post(`${composeURL}task`, {\n      name: t,\n      start: ds,\n      end: de,\n    })\n    .then(\n      (response) => {\n        return response.data;\n      },\n      (err) => {\n        if (err.response.status === 500) console.log(err);\n      }\n    );\n}\n\nfunction getMyTasks() {\n  return api.get(`${composeURL}user/tasks`).then((response) => {\n    return response.data;\n  });\n}\n\nfunction getTaskById(id) {\n  return api.get(`${taskURL}tasks/${id}`).then((response) => {\n    return response.data;\n  });\n}\n\nexport { sendTask, getMyTasks, getTaskById };\n","import { useRef, useState } from \"react\";\nimport { getTaskById } from \"../service/task\";\n\nimport \"../styles/AllTask.css\";\n\nfunction AllTask({ tasks }) {\n  const [taskById, setTaskById] = useState({});\n  const modalRef = useRef(null);\n\n  const handleClick = (id) => {\n    getTaskById(id).then((response) => {\n      // console.log(\"response \", response);\n      setTaskById(response);\n    });\n  };\n\n  return (\n    <>\n      <ul className=\"\">\n        {tasks.length ? (\n          tasks.map((e, i) => (\n            <li\n              key={i}\n              onClick={() => handleClick(e.id)}\n              data-bs-toggle=\"modal\"\n              data-bs-target=\"#exampleModal\"\n            >\n              the task : <b>{e.name}</b> starts at <b>{e.start}</b> and ends at{\" \"}\n              <b>{e.end}</b>\n            </li>\n          ))\n        ) : (\n          <p>No tasks</p>\n        )}\n      </ul>\n\n      <div\n        className=\"modal fade\"\n        ref={modalRef}\n        id=\"exampleModal\"\n        tabIndex=\"-1\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                {taskById.name}\n              </h5>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div className=\"modal-body\">\n              <p>Date début : {taskById.start}</p>\n              <p>Date fin : {taskById.end}</p>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n              >\n                Fermer\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default AllTask;\n","import { useEffect, useRef, useState } from \"react\";\nimport { getTaskById, getMyTasks } from \"../service/task\";\nimport \"../styles/AllTask.css\";\n\nfunction AllTask() {\n  const [myTasks, setMyTasks] = useState([]);\n  const [taskById, setTaskById] = useState({});\n  const modalRef = useRef(null);\n\n  const handleClick = (id) => {\n    getTaskById(id).then((response) => {\n      // console.log(\"response \", response);\n      setTaskById(response);\n    });\n  };\n\n  useEffect(() => {\n    getMyTasks().then((response) => {\n      // console.log(\"getMyTasks : \", response);\n      setMyTasks(response);\n    });\n  }, []);\n\n  return (\n    <>\n      <ul className=\"\">\n        {myTasks.length ? (\n          myTasks.map((e, i) => (\n            <li\n              key={i}\n              onClick={() => handleClick(e.id)}\n              data-bs-toggle=\"modal\"\n              data-bs-target=\"#exampleModal\"\n            >\n              the task : <b>{e.name}</b> starts at <b>{e.start}</b> and ends at{\" \"}\n              <b>{e.end}</b>\n            </li>\n          ))\n        ) : (\n          <p>No tasks</p>\n        )}\n      </ul>\n\n      <div\n        className=\"modal fade\"\n        ref={modalRef}\n        id=\"exampleModal\"\n        tabIndex=\"-1\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                {taskById.name}\n              </h5>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div className=\"modal-body\">\n              <p>Date début : {taskById.start}</p>\n              <p>Date fin : {taskById.end}</p>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n              >\n                Fermer\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default AllTask;\n","import { useEffect, useState } from \"react\";\nimport { sendTask } from \"../service/task\";\nimport axios from \"axios\";\n\nimport AllTask from \"./AllTask\";\nimport TaskByUserId from \"./TaskByUserId\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nfunction Home() {\n  const [tasks, setTasks] = useState([]);\n\n  const reReReFormatTime = (date) => date.toISOString().slice(0, 19);\n  const addOneHour = (date, toAdd = 3) =>\n    new Date(new Date(date).setHours(date.getHours() + toAdd));\n\n  const frDate = new Date();\n  const onHourLater = addOneHour(frDate, 1);\n\n  // expected output: locale time under following format : yyyy-MM-ddTHH:mm:ss\n\n  const [state, setState] = useState({\n    taskName: \"\",\n    dateStart: reReReFormatTime(frDate),\n    dateEnd: reReReFormatTime(onHourLater),\n  });\n\n  const handleChange = (e) => {\n    const { id, value } = e.target;\n    setState((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n\n    if (id === \"dateStart\") {\n      let res = reReReFormatTime(addOneHour(new Date(value)));\n      setState((prevState) => ({\n        ...prevState,\n        dateEnd: res,\n      }));\n      // console.log(res);\n    }\n  };\n\n  const removeT = (date) => {\n    return date.replace(\"T\", \" \");\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { taskName, dateStart, dateEnd } = state;\n\n    sendTask(taskName, removeT(dateStart), removeT(dateEnd)).then((data) => {\n      setTasks((prevState) => [...prevState, data]);\n    });\n  };\n\n  useEffect(() => {\n    const fetchTask = async () => {\n      const response = await axios(\n        \"https://api-gateway-hackathon.herokuapp.com/api/taskService/tasks\"\n      );\n      setTasks(response.data);\n    };\n    fetchTask();\n  }, []);\n\n  return (\n    <>\n      <p>Home</p>\n      <div className=\"col-sm mb-3 pb-3 border-bottom border-2\">\n        <h3>Ajouter une tâche</h3>\n        <form>\n          <div className=\"form-group text-left\">\n            <label htmlFor=\"inputTache\">Tâche</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"taskName\"\n              aria-describedby=\"taskNameHelp\"\n              placeholder=\"Entrez une tâche\"\n              value={state.taskName}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-group text-left\">\n            <label htmlFor=\"inputStart\">Date de début</label>\n            <input\n              type=\"datetime-local\"\n              className=\"form-control\"\n              id=\"dateStart\"\n              placeholder=\"Entrez date de début\"\n              min={state.dateStart}\n              max=\"2022-06-01T00:00\"\n              value={state.dateStart}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-group text-left\">\n            <label htmlFor=\"inputEnd\">Date de fin</label>\n            <input\n              type=\"datetime-local\"\n              className=\"form-control\"\n              id=\"dateEnd\"\n              placeholder=\"Entrez date de fin\"\n              min={state.dateEnd}\n              max=\"2022-06-01T00:00\"\n              value={state.dateEnd}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-check\"></div>\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary btn-block\"\n            onClick={handleSubmit}\n          >\n            Ajout de la tâche\n          </button>\n        </form>\n      </div>\n\n      <Router>\n        <Link to=\"/task-test-react/\">\n          <button className=\"btn btn-primary\">Toutes les Tâches</button>\n        </Link>\n        <Link to=\"/task-test-react/mytasks\">\n          <button className=\"btn btn-primary\">Mes Tâches</button>\n        </Link>\n\n        <Switch>\n          <Route exact path=\"/task-test-react/\">\n            <AllTask tasks={tasks} />\n          </Route>\n          <Route exact path=\"/task-test-react/mytasks\">\n            <TaskByUserId />\n          </Route>\n        </Switch>\n      </Router>\n    </>\n  );\n}\n\nexport default Home;\n","export default function Form({ spec, handleChange, handleSubmit }) {\n  return (\n    <div className=\"col-sm\">\n      <h3>{spec.header}</h3>\n      <form>\n        <div className=\"form-group text-left\">\n          <label htmlFor=\"exampleInputEmail1\">Nom d'utilisateur</label>\n          <input\n            type=\"username\"\n            className=\"form-control\"\n            id={spec.userId}\n            aria-describedby=\"usernameHelp\"\n            placeholder=\"Entrez votre nom d'utilisateur\"\n            value={spec.state.username}\n            onChange={handleChange}\n          />\n          <small id=\"usernameHelp\" className=\"form-text text-muted\">\n            Nom d'utilisateur (pas l'email)\n          </small>\n        </div>\n        <div className=\"form-group text-left\">\n          <label htmlFor=\"exampleInputPassword1\">Mot de passe</label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            id={spec.passId}\n            placeholder=\"Entrez votre mot de passe\"\n            autoComplete=\"new-password\"\n            value={spec.state.password}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"form-check\"></div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary btn-block\"\n          onClick={handleSubmit}\n        >\n          {spec.btnValue}\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport {\n  register,\n  login,\n  isUserLoggedIn,\n  isAuthenticated,\n} from \"../service/authentication\";\n\nimport Form from \"./Form\";\n\nfunction Account({ setIsLoggedIn, setIsAuth }) {\n  const [signinState, setSigninState] = useState({\n    signinUsername: \"\",\n    signinPassword: \"\",\n  });\n\n  const [loginState, setLoginState] = useState({\n    loginUsername: \"\",\n    loginPassword: \"\",\n  });\n\n  const handleChangeSignin = (e) => {\n    const { id, value } = e.target;\n    setSigninState((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n  };\n\n  const handleChangeLogin = (e) => {\n    const { id, value } = e.target;\n    setLoginState((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n  };\n\n  const handleSubmitSignin = (e) => {\n    e.preventDefault();\n    const { signinUsername, signinPassword } = signinState;\n    register(signinUsername, signinPassword)\n      .then((token) => {\n        alert(`Success, your token is: ${token}`);\n        setIsLoggedIn(isUserLoggedIn());\n      })\n      .catch((error) => {\n        alert(`Sorry, there was an error`);\n      });\n    // console.log(e);\n    isAuthenticated().then((response) => setIsAuth(response.data));\n  };\n\n  const handleSubmitLogin = (e) => {\n    e.preventDefault();\n    const { loginUsername, loginPassword } = loginState;\n    login(loginUsername, loginPassword)\n      .then((token) => {\n        alert(`Success, your token is: ${token}`);\n        setIsLoggedIn(isUserLoggedIn());\n      })\n      .catch((error) => {\n        alert(`Sorry, there was an error`);\n      });\n    // console.log(e);\n    // console.log(\"isAuth : \", isAuthenticated().data);\n    isAuthenticated().then((response) => setIsAuth(response.data));\n  };\n\n  const signSpec = {\n    header: \"Sign In\",\n    userId: Object.keys(signinState)[0],\n    state: signinState,\n    passId: Object.keys(signinState)[1],\n    btnValue: \"Créer un compte\",\n  };\n\n  const logSpec = {\n    header: \"Log In\",\n    userId: Object.keys(loginState)[0],\n    state: loginState,\n    passId: Object.keys(loginState)[1],\n    btnValue: \"Se connecter\",\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <Form\n          spec={signSpec}\n          handleChange={handleChangeSignin}\n          handleSubmit={handleSubmitSignin}\n        />\n        <Form\n          spec={logSpec}\n          handleChange={handleChangeLogin}\n          handleSubmit={handleSubmitLogin}\n        />\n      </div>\n    </div>\n  );\n}\nexport default Account;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from \"axios\";\n\nimport { getToken, removeToken } from \"./token\";\n\nconst REACT_APP_API_BASE_URL = \"https://api-gateway-hackathon.herokuapp.com\";\n\n// console.log(`service/api: Base URL is: ${REACT_APP_API_BASE_URL}`);\n\nconst defaultOptions = {\n  baseURL: REACT_APP_API_BASE_URL,\n  method: \"get\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\",\n  },\n};\nconst api = axios.create(defaultOptions);\n\n// Set the AUTH token for any request\napi.interceptors.request.use((config) => {\n  const token = getToken();\n  console.log(`interceptors request with token ${token}`);\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  // console.log(config);\n  return config;\n});\n\napi.interceptors.response.use(\n  (res) => {\n    console.log(\"interceptors response : \", res);\n    return res;\n  },\n  (err) => {\n    if (err.response.status === 401) {\n      removeToken();\n      throw new Error(`Invalid token`);\n    }\n    throw err;\n  }\n);\n\nexport default api;\n"],"sourceRoot":""}